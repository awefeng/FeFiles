## React 理念篇

### React设计理念

1. **设计理念：** **快速响应**
2. **什么因素制约快速响应：** 计算能力和网络延迟，分别表现在**CPU瓶颈**和**IO瓶颈**
3. **CPU瓶颈：**
   1. 现代浏览器工作原理：主流浏览器60帧，一帧16.6ms，进行` css tree + js tree -> 渲染 `的工作
   2. js计算后，浏览器生成页面布局（render tree），然后再进行渲染。
   3. js计算过大的时候导致计算时间超过16.6ms（不一定是16.6ms，因为这时间还包括生成渲染树和进行渲染的时间）
   4. 超过一帧时间，计算继续进行，导致没有时间进行渲染相关工作。页面出现`卡死`
4. **IO瓶颈：** 网络延迟，这一般解决办法加`loading`显示，让用户明显感觉到等待
5. **React老架构的问题：只能同步更新**
   1. 当计算量大的时候，递归更新，会造成掉帧卡死
6. **React新架构给出的解决办法：异步可中断更新**
   1. 对于CPU瓶颈：架构改造，采用`Fiber`架构
   2. 对于IO瓶颈：将人工交互的研究成果融入到UI显示，即`Concurret`模式：请求数据的时候，先停留一段时间，如果请求数据的时间短暂，不显示过渡动画（`loading`）；如果时间长（或者说是超过了某一段时间），再展示过渡动画。

### React架构演进史

#### 老的架构（React 15）





